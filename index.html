<!DOCTYPE html>
<html lang="en">
<head>
    <title>Dice betting Game</title>
    <link rel="stylesheet" type="text/css" href="../Dice_game/dice_game.css">
    </head>
<body>
    <div class="intro_text">
        <h1>Welcome to the Casino!</h1>
        <h2>Here you'll get the chance to turn your stimulus check into a jackpot!</h2>
        <p>How many players are we dealing with today?</p>
        <input type="number" id="temp1">
        <button onclick="set_num_players()">Enter</button>
        <p>How much money will both players have?</p>
            <input type="number" id="temp2">
            <button onclick="set_play1_money()">Enter</button>
        <h3 id="p1_question">How much does player 1 wanna bet?</h3>
            <input type="number" id="bet1">
            <button onclick="set_play1_bet()">Enter</button>
        <h3 id="p2_question">How much does player 2 wanna bet?</h3>
            <input type="number" id="bet2">
            <button onclick="set_play2_bet()">Enter</button>
            <!--  <p>How many rounds will you play?</p> -->
            <!--  <input type="number" id="temp3"> -->
            <!-- <button onclick="set_rounds()">Enter</button><br><br> -->
            <h3>Rules are that for each round, every player will</h3>
            <ul>
                <li>- set the amount they wish to bet</li>
                <li>- make a guess as to the total number of the numbers on the dice</li>
                <li>- whoever's guess is closer wins the money and the round.</li>
            </ul>
            <button onclick="start_game()">Start the game</button>
        </div>
        <div class="gameboard">
        <h3>Player 1</h3>
        <p id="p1_scoreboard">Current amount:</p>
        <h3>Player 2</h3>
        <p id="p2_scoreboard">Current amount:</p><br>
        <h3 id="p1_guess"></h3>
            <input type="number" id="guess1">
            <button onclick="">Enter</button>
        <h3 id="p2_guess"></h3>
            <input type="number" id="guess2">
            <button onclick="">Enter</button><br><br>
        <p id="finale"></p>
        <br>
        <button onclick="start_game()">Start next round</button><br><br><br>
        <img id= "curtain" src="https://media.giphy.com/media/3oGRFlpAW4sIHA02NW/giphy.gif">
        </div>
        <script>
            var num_players;
var play1_money;
var play2_money;
var play1_bet;
var play2_bet;
var dice1;
var dice2;
var dice3;
var total;
var p1_guess;
var p2_guess;
function set_play1_money(){play1_money=document.getElementById("temp2").value;
play2_money=play1_money;}
function set_num_players(){num_players=document.getElementById("temp1").value;}
function set_play1_bet(){play1_bet=document.getElementById("bet1").value}
function set_play2_bet(){play2_bet=document.getElementById("bet2").value}   
function start_game(){  
    if (num_players > 1 ){
        set_play1_bet();
        set_play2_bet();
        document.getElementById("p1_scoreboard").innerText = "Current amount: " + play1_bet + " out of " + play1_money;
        document.getElementById("p2_scoreboard").innerText = "Current amount: " + play2_bet + " out of " + play2_money;
        document.getElementById("p1_guess").innerText = "Enter player 1's estimate";
        document.getElementById("p2_guess").innerText = "Enter player 2's estimate";
        function set_p1guess(){p1_guess=document.getElementById("guess1").value;}
        function set_p1guess(){p2_guess=document.getElementById("guess2").value;}
        dice1 = Math.floor(Math.random() * 6) + 1;
        dice2 = Math.floor(Math.random() * 6) + 1; 
        dice3 = Math.floor(Math.random() * 6) + 1;
        total = dice1 + dice2 + dice3;
        if (Math.abs(total-p1_guess) < Math.abs(total-p2_guess))
            {
                play1_money = play1_money + play2_bet + play1_bet;}
                document.getElementById("finale").innerHTML = "Player 1 is correct and " + p1_guess + " is the number closest to dice total";}
        else if (Math.abs(total-p2_guess) < Math.abs(total-p1_guess))
            {
                play2_money = play2_money + play2_bet + play1_bet;
                document.getElementById("finale").innerHTML ="Player 2 is correct and " + p2_guess + " is the number closest to dice total";} }
    if (num_players == 1){
        document.getElementById("p1_scoreboard").innerText = "Current amount: " + play1_bet + " out of " + play1_money;
        play2_bet = Math.floor(Math.random() * 100) + 1;
        document.getElementById("p2_scoreboard").innerText = "Current amount: " + play2_bet + " out of " + play2_money;
        document.getElementById("p1_guess").innerText = "Enter player 1's estimate";
        function set_p1guess(){p1_guess=document.getElementById("guess1").value;}
        dice1 = Math.floor(Math.random() * 6) + 1;
        dice2 = Math.floor(Math.random() * 6) + 1; 
        dice3 = Math.floor(Math.random() * 6) + 1;
        p2_guess = Math.floor(Math.random() * 18) + 1;
        total = dice1 + dice2 + dice3;
        if (Math.abs(total-p1_guess) < Math.abs(total-p2_guess))
            {
            document.getElementById("finale").innerHTML="Player 1 is correct and " + p1_guess + " is the number closest to dice total";
            play1_money = play1_money + play2_bet + play1_bet;}
        else if (Math.abs(total-p2_guess) < Math.abs(total-p1_guess))
            {
            document.getElementById("finale").innerHTML="Player 2 is correct and " + p2_guess + " is the number closest to dice total";
            play2_money = play2_money + play2_bet + play1_bet;}
    }


        </script>

</body>
</html>